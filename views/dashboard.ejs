<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:opsz,wght@6..144,1..1000&display=swap" rel="stylesheet">
    <title>Dashboard</title>
  </head>
  <body>
    <main>
      <button onclick="openAside()" class="open-button">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#666666"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
      </button>
      <aside>
        <button onclick="closeAside()" class="close-button">
         <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
        </button>
        <div class="logo-container">
           <a href="/">
            <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#ffffff"><path d="M260-160q-91 0-155.5-63T40-377q0-78 47-139t123-78q25-92 100-149t170-57q117 0 198.5 81.5T760-520q69 8 114.5 59.5T920-340q0 75-52.5 127.5T740-160H260Zm0-80h480q42 0 71-29t29-71q0-42-29-71t-71-29h-60v-80q0-83-58.5-141.5T480-720q-83 0-141.5 58.5T280-520h-20q-58 0-99 41t-41 99q0 58 41 99t99 41Zm220-240Z"/></svg>
           </a>
        </div>
        <div class="sections-links-container">
          <h3>Sections</h3>
          <a href="/dashboard/folders">All Folders</a>
          <a href="/dashboard/files">All Files</a>
        </div>
        <div class="addnew-links-container">
          <h3>Add new</h3>
          <a href="/dashboard/newFolder">New Folder</a>
          <a href="/dashboard/upload">Upload File</a>
        </div>
      </aside>
      <section>
        <% if(locals.section) { %>
        <% if(section === "files") { %>
          <%- include("files") %>
       <% } else if(section === "folders") { %>
          <%- include("folders") %>
       <% } %>
      <% } else {  %> 
        <h1>Welcome to your Dashboard !</h1>
      <% } %>
      </section> 
    </main>
    <script>
      function closeAside() {
        const aside = document.querySelector("aside");
        aside.classList.add("slideout-animate");
        aside.classList.remove("slidein-animate");
      }
      function openAside() {
        const aside = document.querySelector("aside");
        aside.classList.add("slidein-animate");
        aside.classList.remove("slideout-animate");
      }
      window.addEventListener("resize",() => {
        if(window.innerWidth > 480) {
         document.querySelector("aside").className = "";
        }
      })
    </script>
  </body>
</html>
